# 複数チーム参加機能

[← 実装済み機能一覧に戻る](./implemented-features.md)

## 🏢 複数チーム参加機能

### 基本概念

同一マスターチームが複数の大会参加エントリーを行える機能です。これにより、1つのチームが「チームA」「チームA2」といった形で同一大会に複数参加可能になります。

### 実装仕様

#### **データ構造**
- **マスターチーム** (`m_teams`): 実際のチーム組織（1つ）
- **大会参加チーム** (`t_tournament_teams`): 大会ごとの参加エントリー（複数可能）
- **参加選手** (`t_tournament_players`): 各大会参加チーム別の選手登録

#### **主要機能**
1. **複数エントリー登録**: 同じマスターチームから複数の大会参加申し込み
2. **個別チーム名**: 各エントリーで独自のチーム名・略称を設定可能
3. **選手振り分け**: マスター選手を各エントリーに個別に割り当て
4. **個別編集**: エントリーごとに独立した選手編集機能

### 技術的実装

#### **API設計**
- `POST /api/tournaments/[id]/join`: 新規参加（`mode=new`で複数参加対応）
- `PUT /api/tournaments/[id]/join`: 特定チーム編集（`team=123`パラメータ）
- `GET /api/teams/tournaments`: 複数参加情報を含む大会一覧取得

#### **UI/UX設計**
- **チーム一覧表示**: 参加チーム数バッジ + 詳細リスト
- **個別編集ボタン**: 各参加エントリーに専用編集リンク
- **追加参加ボタン**: 既参加大会への追加エントリー用

#### **データフロー**
```
マスターチーム → 複数の大会参加エントリー → 各エントリーの選手割り当て
     ↓                    ↓                          ↓
  m_teams        t_tournament_teams         t_tournament_players
```

