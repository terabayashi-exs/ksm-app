
> ksm-app@0.1.0 dev
> next dev --port 3000

   ▲ Next.js 15.3.4
   - Local:        http://localhost:3000
   - Network:      http://172.29.134.240:3000
   - Environments: .env.local, .env
   - Experiments (use with caution):
     ⨯ serverMinification

 ✓ Starting...
 ✓ Ready in 5.5s
 ○ Compiling /api/auth/[...nextauth] ...
 ✓ Compiled /api/auth/[...nextauth] in 2.5s (673 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/auth/_log 200 in 11682ms
 ✓ Compiled /api/tournaments/[id]/matches in 484ms (675 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: false, userRole: undefined, userId: undefined }
Authentication failed: { session: false, role: undefined }
 GET /api/tournaments/50/matches 401 in 1297ms
 ○ Compiling / ...
 ✓ Compiled / in 2.5s (1249 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET / 200 in 3254ms
 ✓ Compiled /api/auth/[...nextauth] in 214ms (797 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 427ms
 ✓ Compiled /middleware in 360ms (207 modules)
 ○ Compiling /admin ...
 ✓ Compiled /admin in 575ms (1278 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /admin 200 in 808ms
 ○ Compiling /api/admin/notifications/counts ...
 ✓ Compiled /api/admin/notifications/counts in 538ms (1294 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/admin/notifications/counts 200 in 692ms
 GET /api/admin/notifications/counts 200 in 33ms
 GET /api/tournaments/dashboard 200 in 796ms
 GET /api/tournaments/dashboard 200 in 73ms
 ○ Compiling /admin/tournaments/[id]/matches ...
 ✓ Compiled /admin/tournaments/[id]/matches in 2.4s (1416 modules)
 GET /admin/tournaments/50/matches 200 in 3332ms
 ○ Compiling /api/tournaments/[id]/live-updates ...
 ✓ Compiled /api/tournaments/[id]/live-updates in 958ms (944 modules)
 ✓ Compiled (947 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/tournaments/50 200 in 1729ms
 GET /api/tournaments/50 200 in 42ms
 ○ Compiling /api/tournaments/[id]/matches ...
 ✓ Compiled /api/tournaments/[id]/matches in 764ms (949 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 1003ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 83ms
 ○ Compiling /api/admin/notifications ...
 ✓ Compiled /api/admin/notifications in 891ms (1495 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/admin/notifications?tournament_id=50 200 in 1018ms
 GET /api/admin/notifications?tournament_id=50 200 in 1022ms
 GET /api/tournaments/50 200 in 66ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 106ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 141ms
 GET /api/tournaments/50 200 in 43ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 123ms
 GET /api/tournaments/50 200 in 40ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 121ms
 GET /api/tournaments/50 200 in 40ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 129ms
 GET /admin/tournaments/50/matches 200 in 253ms
 GET /api/auth/session 200 in 96ms
 GET /api/auth/session 200 in 67ms
 GET /api/tournaments/50 200 in 101ms
 GET /api/tournaments/50 200 in 44ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 100ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 85ms
 GET /api/admin/notifications?tournament_id=50 200 in 94ms
 GET /api/admin/notifications?tournament_id=50 200 in 116ms
 GET /api/admin/notifications?tournament_id=50 200 in 126ms
 GET /api/admin/notifications?tournament_id=50 200 in 150ms
 GET /admin 200 in 70ms
 GET /api/tournaments/50/live-updates 200 in 2099ms
 GET /api/admin/notifications/counts 200 in 74ms
 GET /api/admin/notifications/counts 200 in 39ms
 GET /api/tournaments/dashboard 200 in 154ms
 GET /api/tournaments/dashboard 200 in 74ms
 ○ Compiling /admin/tournaments/[id] ...
 ✓ Compiled /admin/tournaments/[id] in 583ms (1497 modules)
 GET /admin/tournaments/50 200 in 1123ms
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/tournaments/50 200 in 104ms
 ○ Compiling /public/tournaments/[id] ...
 ✓ Compiled /public/tournaments/[id] in 2s (1920 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 1963ms
 GET /public/tournaments/50 200 in 2923ms
 GET /public/tournaments/50 200 in 149ms
 ○ Compiling /api/tournaments/[id]/public-matches ...
 ✓ Compiled /api/tournaments/[id]/public-matches in 960ms (1922 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/tournaments/50 200 in 926ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 107ms
API called with params: Promise {
  <pending>,
  id: '50',
  [Symbol(async_id_symbol)]: 438385,
  [Symbol(trigger_async_id_symbol)]: 438379,
  [Symbol(kResourceStore)]: { isAppRoute: true, isAction: false },
  [Symbol(kResourceStore)]: {
    type: 'request',
    phase: 'action',
    implicitTags: { tags: [Array], expirationsByCacheKind: [Map] },
    url: { pathname: '/api/tournaments/50/public-matches', search: '' },
    rootParams: {},
    headers: [Getter],
    cookies: [Getter/Setter],
    mutableCookies: [Getter],
    userspaceMutableCookies: [Getter],
    draftMode: [Getter],
    renderResumeDataCache: null,
    isHmrRefresh: false,
    serverComponentsHmrCache: undefined
  },
  [Symbol(kResourceStore)]: {
    isStaticGeneration: false,
    page: '/api/tournaments/[id]/public-matches/route',
    fallbackRouteParams: null,
    route: '/api/tournaments/[id]/public-matches',
    incrementalCache: IncrementalCache {
      locks: Map(0) {},
      hasCustomCacheHandler: false,
      dev: true,
      disableForTestmode: false,
      minimalMode: false,
      requestHeaders: [Object],
      requestProtocol: 'http',
      allowedRevalidateHeaderKeys: undefined,
      prerenderManifest: [Object],
      cacheControls: [SharedCacheControls],
      fetchCacheKeyPrefix: '',
      cacheHandler: [FileSystemCache]
    },
    cacheLifeProfiles: {
      default: [Object],
      seconds: [Object],
      minutes: [Object],
      hours: [Object],
      days: [Object],
      weeks: [Object],
      max: [Object]
    },
    isRevalidate: false,
    isPrerendering: undefined,
    fetchCache: undefined,
    isOnDemandRevalidate: undefined,
    isDraftMode: undefined,
    requestEndedState: undefined,
    isPrefetchRequest: undefined,
    buildId: 'development',
    reactLoadableManifest: {},
    assetPrefix: '',
    afterContext: AfterContext {
      workUnitStores: Set(0) {},
      waitUntil: [Function (anonymous)],
      onClose: [Function: bound onClose],
      onTaskError: undefined,
      callbackQueue: [EventEmitter]
    },
    dynamicIOEnabled: false,
    dev: false,
    previouslyRevalidatedTags: [],
    refreshTagsByCacheKind: Map(2) { 'default' => [Object], 'remote' => [Object] },
    forceDynamic: true
  },
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined
}
Params type: object
Resolved params: { id: '50' }
Tournament ID string: 50
Parsed tournament ID: 50
Checking tournament existence for ID: 50
All tournaments query result: [
  {
    tournament_id: 50,
    tournament_name: 'デモ用大会5 (決勝トーナメント)',
    visibility: 'open',
    status: 'ongoing'
  }
]
Tournament visibility value: open type: string
Tournament result for matches: [ { tournament_id: 50, visibility: 'open', status: 'ongoing' } ]
Fetching matches for tournament: 50
Trying simple query first...
Simple query executed successfully, rows found: 5
Sample data: {
  match_id: 1358,
  match_code: 'A1',
  team1_display_name: 'A1チーム',
  team2_display_name: 'A2チーム'
}
Checking team assignment status...
Team assignment status: 30/32 matches assigned
Is assignment complete: true
Executing full query...
Checking t_matches_final table structure...
t_matches_final table columns: [
  {
    cid: 0,
    name: 'match_id',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 1
  },
  {
    cid: 1,
    name: 'match_block_id',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 2,
    name: 'tournament_date',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 3,
    name: 'match_number',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 4,
    name: 'match_code',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 5,
    name: 'team1_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 6,
    name: 'team2_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 7,
    name: 'team1_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 8,
    name: 'team2_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 9,
    name: 'court_number',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 10,
    name: 'start_time',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 11,
    name: 'team1_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 12,
    name: 'team2_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 13,
    name: 'period_count',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '1',
    pk: 0
  },
  {
    cid: 14,
    name: 'winner_team_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 15,
    name: 'is_draw',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 16,
    name: 'is_walkover',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 17,
    name: 'match_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'completed'",
    pk: 0
  },
  {
    cid: 18,
    name: 'result_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'confirmed'",
    pk: 0
  },
  {
    cid: 19,
    name: 'remarks',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 20,
    name: 'created_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 21,
    name: 'updated_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 22,
    name: 'cancellation_type',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  }
]
Available columns in t_matches_final: [
  'match_id',           'match_block_id',
  'tournament_date',    'match_number',
  'match_code',         'team1_id',
  'team2_id',           'team1_display_name',
  'team2_display_name', 'court_number',
  'start_time',         'team1_scores',
  'team2_scores',       'period_count',
  'winner_team_id',     'is_draw',
  'is_walkover',        'match_status',
  'result_status',      'remarks',
  'created_at',         'updated_at',
  'cancellation_type'
]
All required columns exist, using JOIN query
Full query executed successfully, rows found: 32
Processing match data, total rows: 32
Successfully processed matches: 32
 GET /api/tournaments/50/public-matches 200 in 1773ms
API called with params: Promise {
  <pending>,
  id: '50',
  [Symbol(async_id_symbol)]: 443632,
  [Symbol(trigger_async_id_symbol)]: 443624,
  [Symbol(kResourceStore)]: { isAppRoute: true, isAction: false },
  [Symbol(kResourceStore)]: {
    type: 'request',
    phase: 'action',
    implicitTags: { tags: [Array], expirationsByCacheKind: [Map] },
    url: { pathname: '/api/tournaments/50/public-matches', search: '' },
    rootParams: {},
    headers: [Getter],
    cookies: [Getter/Setter],
    mutableCookies: [Getter],
    userspaceMutableCookies: [Getter],
    draftMode: [Getter],
    renderResumeDataCache: null,
    isHmrRefresh: false,
    serverComponentsHmrCache: undefined
  },
  [Symbol(kResourceStore)]: {
    isStaticGeneration: false,
    page: '/api/tournaments/[id]/public-matches/route',
    fallbackRouteParams: null,
    route: '/api/tournaments/[id]/public-matches',
    incrementalCache: IncrementalCache {
      locks: Map(0) {},
      hasCustomCacheHandler: false,
      dev: true,
      disableForTestmode: false,
      minimalMode: false,
      requestHeaders: [Object],
      requestProtocol: 'http',
      allowedRevalidateHeaderKeys: undefined,
      prerenderManifest: [Object],
      cacheControls: [SharedCacheControls],
      fetchCacheKeyPrefix: '',
      cacheHandler: [FileSystemCache]
    },
    cacheLifeProfiles: {
      default: [Object],
      seconds: [Object],
      minutes: [Object],
      hours: [Object],
      days: [Object],
      weeks: [Object],
      max: [Object]
    },
    isRevalidate: false,
    isPrerendering: undefined,
    fetchCache: undefined,
    isOnDemandRevalidate: undefined,
    isDraftMode: undefined,
    requestEndedState: undefined,
    isPrefetchRequest: undefined,
    buildId: 'development',
    reactLoadableManifest: {},
    assetPrefix: '',
    afterContext: AfterContext {
      workUnitStores: Set(0) {},
      waitUntil: [Function (anonymous)],
      onClose: [Function: bound onClose],
      onTaskError: undefined,
      callbackQueue: [EventEmitter]
    },
    dynamicIOEnabled: false,
    dev: false,
    previouslyRevalidatedTags: [],
    refreshTagsByCacheKind: Map(2) { 'default' => [Object], 'remote' => [Object] },
    forceDynamic: true
  },
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined
}
Params type: object
Resolved params: { id: '50' }
Tournament ID string: 50
Parsed tournament ID: 50
Checking tournament existence for ID: 50
All tournaments query result: [
  {
    tournament_id: 50,
    tournament_name: 'デモ用大会5 (決勝トーナメント)',
    visibility: 'open',
    status: 'ongoing'
  }
]
Tournament visibility value: open type: string
Tournament result for matches: [ { tournament_id: 50, visibility: 'open', status: 'ongoing' } ]
Fetching matches for tournament: 50
Trying simple query first...
Simple query executed successfully, rows found: 5
Sample data: {
  match_id: 1358,
  match_code: 'A1',
  team1_display_name: 'A1チーム',
  team2_display_name: 'A2チーム'
}
Checking team assignment status...
Team assignment status: 30/32 matches assigned
Is assignment complete: true
Executing full query...
Checking t_matches_final table structure...
t_matches_final table columns: [
  {
    cid: 0,
    name: 'match_id',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 1
  },
  {
    cid: 1,
    name: 'match_block_id',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 2,
    name: 'tournament_date',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 3,
    name: 'match_number',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 4,
    name: 'match_code',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 5,
    name: 'team1_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 6,
    name: 'team2_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 7,
    name: 'team1_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 8,
    name: 'team2_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 9,
    name: 'court_number',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 10,
    name: 'start_time',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 11,
    name: 'team1_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 12,
    name: 'team2_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 13,
    name: 'period_count',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '1',
    pk: 0
  },
  {
    cid: 14,
    name: 'winner_team_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 15,
    name: 'is_draw',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 16,
    name: 'is_walkover',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 17,
    name: 'match_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'completed'",
    pk: 0
  },
  {
    cid: 18,
    name: 'result_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'confirmed'",
    pk: 0
  },
  {
    cid: 19,
    name: 'remarks',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 20,
    name: 'created_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 21,
    name: 'updated_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 22,
    name: 'cancellation_type',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  }
]
Available columns in t_matches_final: [
  'match_id',           'match_block_id',
  'tournament_date',    'match_number',
  'match_code',         'team1_id',
  'team2_id',           'team1_display_name',
  'team2_display_name', 'court_number',
  'start_time',         'team1_scores',
  'team2_scores',       'period_count',
  'winner_team_id',     'is_draw',
  'is_walkover',        'match_status',
  'result_status',      'remarks',
  'created_at',         'updated_at',
  'cancellation_type'
]
All required columns exist, using JOIN query
Full query executed successfully, rows found: 32
Processing match data, total rows: 32
Successfully processed matches: 32
 GET /api/tournaments/50/public-matches 200 in 155ms
 ○ Compiling /api/tournaments/[id]/match-news ...
 ✓ Compiled /api/tournaments/[id]/match-news in 745ms (1924 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/tournaments/50/match-news 200 in 1358ms
 GET /api/tournaments/50/match-news 200 in 63ms
 GET /api/tournaments/50 200 in 88ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 102ms
 GET /api/tournaments/50 200 in 50ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 114ms
 GET /api/tournaments/50 200 in 38ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 115ms
 GET /api/tournaments/50 200 in 89ms
 GET /api/admin/notifications?tournament_id=50 200 in 107ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 104ms
 GET /api/tournaments/50 200 in 41ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 106ms
 GET /api/tournaments/50 200 in 59ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 120ms
 GET /api/tournaments/50/match-news 200 in 69ms
 GET /api/tournaments/50 200 in 42ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 87ms
 GET /api/auth/session 200 in 75ms
 GET /api/tournaments/50 200 in 98ms
 GET /api/tournaments/50 200 in 84ms
 GET /api/auth/session 200 in 88ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 58ms
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 196ms
 GET /api/tournaments/50 200 in 54ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 71ms
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 50ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 141ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 81ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 77ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 66ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 68ms
 GET /api/admin/notifications?tournament_id=50 200 in 105ms
 GET /api/admin/notifications?tournament_id=50 200 in 109ms
 GET /api/tournaments/50 200 in 40ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 97ms
 GET /api/tournaments/50 200 in 48ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 130ms
 GET /api/auth/session 200 in 50ms
 GET /api/tournaments/50 200 in 77ms
 GET /api/auth/session 200 in 27ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 34ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 127ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 98ms
 GET /api/admin/notifications?tournament_id=50 200 in 96ms
 GET /api/admin/notifications?tournament_id=50 200 in 116ms
 GET /api/tournaments/50 200 in 41ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 120ms
 GET /api/auth/session 200 in 66ms
 GET /api/tournaments/50 200 in 83ms
 GET /api/tournaments/50 200 in 59ms
 GET /api/auth/session 200 in 69ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 152ms
 GET /api/tournaments/50/match-news 200 in 125ms
 GET /api/tournaments/50 200 in 171ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 76ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 146ms
 GET /api/tournaments/50 200 in 60ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 64ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 117ms
 GET /api/tournaments/50 200 in 79ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 113ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 92ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 81ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 91ms
 GET /api/admin/notifications?tournament_id=50 200 in 130ms
 GET /api/admin/notifications?tournament_id=50 200 in 129ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 83ms
 GET /api/tournaments/50 200 in 42ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 117ms
 GET /api/tournaments/50 200 in 73ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 113ms
 ○ Compiling /referee/match/[id] ...
 ✓ Compiled /referee/match/[id] in 2s (1930 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/tournaments/50 200 in 1982ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 137ms
 GET /referee/match/1387?token=admin 200 in 2868ms
 GET /api/tournaments/50/live-updates 200 in 126290ms
 ○ Compiling /api/matches/[id]/qr ...
 ✓ Compiled /api/matches/[id]/qr in 526ms (2008 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 POST /api/matches/1387/qr 200 in 1165ms
 POST /api/matches/1387/qr 200 in 1200ms
 ✓ Compiled /api/matches/[id]/extended-info in 373ms (2011 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/matches/1387/extended-info 200 in 988ms
 GET /api/matches/1387/extended-info 200 in 53ms
 ✓ Compiled /api/matches/[id]/status in 479ms (2013 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/matches/1387/status 200 in 1034ms
 GET /api/tournaments/50/match-news 200 in 97ms
Match status update request: {
  matchId: 1387,
  action: 'start',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: undefined,
  team2_scores: undefined,
  winner_team_id: undefined,
  remarks: undefined
}
 PUT /api/matches/1387/status 200 in 131ms
Match status update request: {
  matchId: 1387,
  action: 'update_scores',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: [ 2 ],
  team2_scores: [ 0, 1 ],
  winner_team_id: 'blastwin',
  remarks: null
}
Updating scores (period-by-period): {
  team1_scores: [ 2 ],
  team2_scores: [ 0, 1 ],
  team1ScoresStr: '2',
  team2ScoresStr: '0,1',
  winner_team_id: 'blastwin',
  remarks: null,
  matchId: 1387
}
 PUT /api/matches/1387/status 200 in 115ms
Match status update request: {
  matchId: 1387,
  action: 'end',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: undefined,
  team2_scores: undefined,
  winner_team_id: undefined,
  remarks: undefined
}
 PUT /api/matches/1387/status 200 in 97ms
 GET /admin/tournaments/50/matches 200 in 88ms
 GET /api/tournaments/50 200 in 115ms
 ✓ Compiled /api/tournaments/[id]/live-updates in 465ms (1258 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 1120ms
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 1124ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 120ms
 GET /api/admin/notifications?tournament_id=50 200 in 144ms
 GET /api/admin/notifications?tournament_id=50 200 in 160ms
 GET /api/tournaments/50 200 in 38ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 93ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 122ms
 ○ Compiling /api/matches/[id]/confirm ...
 ✓ Compiled /api/matches/[id]/confirm in 942ms (2024 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /api/tournaments/50 200 in 1089ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 30/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 136ms
 GET /api/tournaments/50/match-news 200 in 92ms
[MATCH_CONFIRM] Match 1387 confirmed by admin
[MATCH_CONFIRM] Original live scores: {
  team1_scores: '2',
  team2_scores: '0,1',
  team1_type: 'string',
  team2_type: 'string'
}
[MATCH_CONFIRM] Calculated totals: 2-1
[MATCH_CONFIRM] Match details: M6 - blastwin vs grimtige (2-1)
[MATCH_CONFIRM] Processing tournament progression for match M6
[TOURNAMENT_PROGRESSION] Processing match M6 (ID: 1387)
[TOURNAMENT_PROGRESSION] Winner: blastwin, Loser: grimtige
[TOURNAMENT_PROGRESSION] Processing match M6, winner: blastwin, loser: grimtige
[TOURNAMENT_PROGRESSION] Searching for matches that reference M6_winner or M6_loser
[TOURNAMENT_PROGRESSION] Found 2 dependent matches
[TOURNAMENT_PROGRESSION] Checking match M7: team1_source=M5_loser, team2_source=M6_loser
[TOURNAMENT_PROGRESSION] Added loser target: M7 team2
[TOURNAMENT_PROGRESSION] Checking match M8: team1_source=M5_winner, team2_source=M6_winner
[TOURNAMENT_PROGRESSION] Added winner target: M8 team2
[TOURNAMENT_PROGRESSION] Winner team name: ブラウィン, Loser team name: グリタイ
[TOURNAMENT_PROGRESSION] Updating M8 team2 (source: M6_winner) to "ブラウィン"
[TOURNAMENT_PROGRESSION] Current M8 team2: display_name="【M6】勝", team_id="null"
[TOURNAMENT_PROGRESSION] Expected placeholder: "【M6】勝", Current: "【M6】勝"
[TOURNAMENT_PROGRESSION] ✅ Updated M8 team2: "【M6】勝" → "ブラウィン"
[TOURNAMENT_PROGRESSION] Updating M7 team2 (source: M6_loser) to "グリタイ"
[TOURNAMENT_PROGRESSION] Current M7 team2: display_name="【M6】負", team_id="null"
[TOURNAMENT_PROGRESSION] Expected placeholder: "【M6】負", Current: "【M6】負"
[TOURNAMENT_PROGRESSION] ✅ Updated M7 team2: "【M6】負" → "グリタイ"
[TOURNAMENT_PROGRESSION] ✅ Tournament progression updated for match M6
[MATCH_CONFIRM] ✅ Tournament progression processed for match M6
[MATCH_CONFIRM] Starting standings update for block 230, tournament 50
[STANDINGS] 順位表更新開始: Block 230, Tournament 50
[STANDINGS] 競技種別: soccer
[STANDINGS] 確定済み試合数: 6件
[STANDINGS] サッカー競技: calculateMultiSportBlockStandingsを使用
[MULTI_SPORT_STANDINGS] 多競技対応順位計算開始: Block 230, Tournament 50
[MULTI_SPORT_STANDINGS] 競技種別: soccer {
  sport_code: 'soccer',
  score_label: '得点',
  score_against_label: '失点',
  difference_label: '得失点差',
  supports_pk: true,
  pk_display_format: 'PK {pk_score1}-{pk_score2}'
}
[MULTI_SPORT_STANDINGS] 勝点システム: 勝利=3, 引分=1, 敗北=0
[MULTI_SPORT_STANDINGS] 確定済み試合数: 6
[MULTI_SPORT_STANDINGS] 参加チーム数: 0
[TIE_BREAKING] カスタム順位決定ルール適用開始: 5個のルール
[TIE_BREAKING] カスタム順位決定完了: 適用=false, 手動設定必要=false
[MULTI_SPORT_STANDINGS] 多競技対応順位計算完了: 0チーム
[STANDINGS] 計算完了: 0チームの順位を計算
[STANDINGS] DB更新完了: 1行が更新されました
[STANDINGS] ブロック 230 の順位表を更新しました
[STANDINGS] 更新確認: データが正常に保存されています (更新時刻: 2025-09-21 11:58:42)
[PROMOTION] ブロック完了チェック開始: Block 230
[PROMOTION] ブロック 230: 6/8 試合完了 (確定:6, 中止:0)
[PROMOTION] ブロック 230 試合詳細:
[PROMOTION]   M1: ウルトラスパークス vs フレッシュリミックス [確定]
[PROMOTION]   M2: シャドウフェニックス vs トリックブレイカーズ [確定]
[PROMOTION]   M3: ノーザンブレイヴス vs ブラストウィングス [確定]
[PROMOTION]   M4: シャイニングエッジFC vs グリムタイガーズ [確定]
[PROMOTION]   M5: ウルスパ vs シャドフェ [確定]
[PROMOTION]   M6: ブラウィン vs グリタイ [確定]
[PROMOTION]   M7: ウルスパ vs グリタイ [未完了]
[PROMOTION]   M8: シャドフェ vs ブラウィン [未完了]
[PROMOTION] ブロック 230 完了判定: ❌ 未完了
[PROMOTION] finalブロック: まだ未完了の試合があります
[MATCH_CONFIRM] ✅ Block 230 standings updated successfully after match 1387 confirmation
[MATCH_CONFIRM] Checking if tournament 50 is complete...
[MATCH_CONFIRM] Tournament 50: 30/32 matches confirmed
 POST /api/matches/1387/confirm 200 in 2576ms
 GET /api/tournaments/50 200 in 52ms
 GET /api/tournaments/50 200 in 38ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 108ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 64ms
 GET /api/tournaments/50 200 in 76ms
 GET /api/auth/session 200 in 81ms
 GET /api/auth/session 200 in 33ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 31ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 112ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 78ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 88ms
 GET /api/admin/notifications?tournament_id=50 200 in 106ms
 GET /api/tournaments/50 200 in 38ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 108ms
 GET /public/tournaments/50 200 in 479ms
 GET /api/auth/session 200 in 63ms
 GET /api/auth/session 200 in 26ms
 GET /api/tournaments/50 200 in 51ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 97ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 98ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 139ms
 ○ Compiling /api/tournaments/[id]/public-matches ...
 ✓ Compiled /api/tournaments/[id]/public-matches in 661ms (1269 modules)
API called with params: Promise {
  <pending>,
  id: '50',
  [Symbol(async_id_symbol)]: 1110231,
  [Symbol(trigger_async_id_symbol)]: 1110212,
  [Symbol(kResourceStore)]: { isAppRoute: true, isAction: false },
  [Symbol(kResourceStore)]: {
    type: 'request',
    phase: 'action',
    implicitTags: { tags: [Array], expirationsByCacheKind: [Map] },
    url: { pathname: '/api/tournaments/50/public-matches', search: '' },
    rootParams: {},
    headers: [Getter],
    cookies: [Getter/Setter],
    mutableCookies: [Getter],
    userspaceMutableCookies: [Getter],
    draftMode: [Getter],
    renderResumeDataCache: null,
    isHmrRefresh: false,
    serverComponentsHmrCache: undefined
  },
  [Symbol(kResourceStore)]: {
    isStaticGeneration: false,
    page: '/api/tournaments/[id]/public-matches/route',
    fallbackRouteParams: null,
    route: '/api/tournaments/[id]/public-matches',
    incrementalCache: IncrementalCache {
      locks: Map(0) {},
      hasCustomCacheHandler: false,
      dev: true,
      disableForTestmode: false,
      minimalMode: false,
      requestHeaders: [Object],
      requestProtocol: 'http',
      allowedRevalidateHeaderKeys: undefined,
      prerenderManifest: [Object],
      cacheControls: [SharedCacheControls],
      fetchCacheKeyPrefix: '',
      cacheHandler: [FileSystemCache]
    },
    cacheLifeProfiles: {
      default: [Object],
      seconds: [Object],
      minutes: [Object],
      hours: [Object],
      days: [Object],
      weeks: [Object],
      max: [Object]
    },
    isRevalidate: false,
    isPrerendering: undefined,
    fetchCache: undefined,
    isOnDemandRevalidate: undefined,
    isDraftMode: undefined,
    requestEndedState: undefined,
    isPrefetchRequest: undefined,
    buildId: 'development',
    reactLoadableManifest: {},
    assetPrefix: '',
    afterContext: AfterContext {
      workUnitStores: Set(0) {},
      waitUntil: [Function (anonymous)],
      onClose: [Function: bound onClose],
      onTaskError: undefined,
      callbackQueue: [EventEmitter]
    },
    dynamicIOEnabled: false,
    dev: false,
    previouslyRevalidatedTags: [],
    refreshTagsByCacheKind: Map(2) { 'default' => [Object], 'remote' => [Object] },
    forceDynamic: true
  },
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined
}
Params type: object
API called with params: Promise {
  <pending>,
  id: '50',
  [Symbol(async_id_symbol)]: 1110247,
  [Symbol(trigger_async_id_symbol)]: 1110223,
  [Symbol(kResourceStore)]: { isAppRoute: true, isAction: false },
  [Symbol(kResourceStore)]: {
    type: 'request',
    phase: 'action',
    implicitTags: { tags: [Array], expirationsByCacheKind: [Map] },
    url: { pathname: '/api/tournaments/50/public-matches', search: '' },
    rootParams: {},
    headers: [Getter],
    cookies: [Getter/Setter],
    mutableCookies: [Getter],
    userspaceMutableCookies: [Getter],
    draftMode: [Getter],
    renderResumeDataCache: null,
    isHmrRefresh: false,
    serverComponentsHmrCache: undefined
  },
  [Symbol(kResourceStore)]: {
    isStaticGeneration: false,
    page: '/api/tournaments/[id]/public-matches/route',
    fallbackRouteParams: null,
    route: '/api/tournaments/[id]/public-matches',
    incrementalCache: IncrementalCache {
      locks: Map(0) {},
      hasCustomCacheHandler: false,
      dev: true,
      disableForTestmode: false,
      minimalMode: false,
      requestHeaders: [Object],
      requestProtocol: 'http',
      allowedRevalidateHeaderKeys: undefined,
      prerenderManifest: [Object],
      cacheControls: [SharedCacheControls],
      fetchCacheKeyPrefix: '',
      cacheHandler: [FileSystemCache]
    },
    cacheLifeProfiles: {
      default: [Object],
      seconds: [Object],
      minutes: [Object],
      hours: [Object],
      days: [Object],
      weeks: [Object],
      max: [Object]
    },
    isRevalidate: false,
    isPrerendering: undefined,
    fetchCache: undefined,
    isOnDemandRevalidate: undefined,
    isDraftMode: undefined,
    requestEndedState: undefined,
    isPrefetchRequest: undefined,
    buildId: 'development',
    reactLoadableManifest: {},
    assetPrefix: '',
    afterContext: AfterContext {
      workUnitStores: Set(0) {},
      waitUntil: [Function (anonymous)],
      onClose: [Function: bound onClose],
      onTaskError: undefined,
      callbackQueue: [EventEmitter]
    },
    dynamicIOEnabled: false,
    dev: false,
    previouslyRevalidatedTags: [],
    refreshTagsByCacheKind: Map(2) { 'default' => [Object], 'remote' => [Object] },
    forceDynamic: true
  },
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined
}
Params type: object
Resolved params: { id: '50' }
Tournament ID string: 50
Parsed tournament ID: 50
Checking tournament existence for ID: 50
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
Resolved params: { id: '50' }
Tournament ID string: 50
Parsed tournament ID: 50
Checking tournament existence for ID: 50
All tournaments query result: [
  {
    tournament_id: 50,
    tournament_name: 'デモ用大会5 (決勝トーナメント)',
    visibility: 'open',
    status: 'ongoing'
  }
]
Tournament visibility value: open type: string
All tournaments query result: [
  {
    tournament_id: 50,
    tournament_name: 'デモ用大会5 (決勝トーナメント)',
    visibility: 'open',
    status: 'ongoing'
  }
]
Tournament visibility value: open type: string
Tournament result for matches: [ { tournament_id: 50, visibility: 'open', status: 'ongoing' } ]
Fetching matches for tournament: 50
Trying simple query first...
Tournament result for matches: [ { tournament_id: 50, visibility: 'open', status: 'ongoing' } ]
Fetching matches for tournament: 50
Trying simple query first...
Simple query executed successfully, rows found: 5
Sample data: {
  match_id: 1358,
  match_code: 'A1',
  team1_display_name: 'A1チーム',
  team2_display_name: 'A2チーム'
}
Checking team assignment status...
Simple query executed successfully, rows found: 5
Sample data: {
  match_id: 1358,
  match_code: 'A1',
  team1_display_name: 'A1チーム',
  team2_display_name: 'A2チーム'
}
Checking team assignment status...
Team assignment status: 32/32 matches assigned
Is assignment complete: true
Executing full query...
Checking t_matches_final table structure...
Team assignment status: 32/32 matches assigned
Is assignment complete: true
Executing full query...
Checking t_matches_final table structure...
t_matches_final table columns: [
  {
    cid: 0,
    name: 'match_id',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 1
  },
  {
    cid: 1,
    name: 'match_block_id',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 2,
    name: 'tournament_date',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 3,
    name: 'match_number',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 4,
    name: 'match_code',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 5,
    name: 'team1_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 6,
    name: 'team2_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 7,
    name: 'team1_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 8,
    name: 'team2_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 9,
    name: 'court_number',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 10,
    name: 'start_time',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 11,
    name: 'team1_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 12,
    name: 'team2_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 13,
    name: 'period_count',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '1',
    pk: 0
  },
  {
    cid: 14,
    name: 'winner_team_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 15,
    name: 'is_draw',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 16,
    name: 'is_walkover',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 17,
    name: 'match_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'completed'",
    pk: 0
  },
  {
    cid: 18,
    name: 'result_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'confirmed'",
    pk: 0
  },
  {
    cid: 19,
    name: 'remarks',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 20,
    name: 'created_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 21,
    name: 'updated_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 22,
    name: 'cancellation_type',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  }
]
Available columns in t_matches_final: [
  'match_id',           'match_block_id',
  'tournament_date',    'match_number',
  'match_code',         'team1_id',
  'team2_id',           'team1_display_name',
  'team2_display_name', 'court_number',
  'start_time',         'team1_scores',
  'team2_scores',       'period_count',
  'winner_team_id',     'is_draw',
  'is_walkover',        'match_status',
  'result_status',      'remarks',
  'created_at',         'updated_at',
  'cancellation_type'
]
All required columns exist, using JOIN query
t_matches_final table columns: [
  {
    cid: 0,
    name: 'match_id',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 1
  },
  {
    cid: 1,
    name: 'match_block_id',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 2,
    name: 'tournament_date',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 3,
    name: 'match_number',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 4,
    name: 'match_code',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 5,
    name: 'team1_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 6,
    name: 'team2_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 7,
    name: 'team1_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 8,
    name: 'team2_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 9,
    name: 'court_number',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 10,
    name: 'start_time',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 11,
    name: 'team1_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 12,
    name: 'team2_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 13,
    name: 'period_count',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '1',
    pk: 0
  },
  {
    cid: 14,
    name: 'winner_team_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 15,
    name: 'is_draw',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 16,
    name: 'is_walkover',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 17,
    name: 'match_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'completed'",
    pk: 0
  },
  {
    cid: 18,
    name: 'result_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'confirmed'",
    pk: 0
  },
  {
    cid: 19,
    name: 'remarks',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 20,
    name: 'created_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 21,
    name: 'updated_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 22,
    name: 'cancellation_type',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  }
]
Available columns in t_matches_final: [
  'match_id',           'match_block_id',
  'tournament_date',    'match_number',
  'match_code',         'team1_id',
  'team2_id',           'team1_display_name',
  'team2_display_name', 'court_number',
  'start_time',         'team1_scores',
  'team2_scores',       'period_count',
  'winner_team_id',     'is_draw',
  'is_walkover',        'match_status',
  'result_status',      'remarks',
  'created_at',         'updated_at',
  'cancellation_type'
]
All required columns exist, using JOIN query
Full query executed successfully, rows found: 32
Processing match data, total rows: 32
Full query executed successfully, rows found: 32
Processing match data, total rows: 32
Successfully processed matches: 32
 GET /api/tournaments/50/public-matches 200 in 845ms
Successfully processed matches: 32
 GET /api/tournaments/50/public-matches 200 in 849ms
 GET /api/tournaments/50/match-news 200 in 90ms
 GET /api/tournaments/50/match-news 200 in 97ms
 GET /api/tournaments/50 200 in 88ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 94ms
 GET /api/tournaments/50 200 in 44ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 106ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 110ms
 GET /api/tournaments/50 200 in 40ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 117ms
 GET /api/tournaments/50 200 in 71ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 116ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 91ms
 GET /api/admin/notifications?tournament_id=50 200 in 137ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 97ms
 GET /api/tournaments/50/match-news 200 in 100ms
 GET /api/tournaments/50 200 in 43ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 95ms
 GET /api/tournaments/50 200 in 42ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 126ms
 GET /api/tournaments/50 200 in 46ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 126ms
 GET /api/auth/session 200 in 57ms
 GET /api/tournaments/50 200 in 81ms
 GET /api/auth/session 200 in 44ms
 GET /api/tournaments/50 200 in 63ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 42ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 40ms
 GET /api/tournaments/50 200 in 36ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 193ms
 GET /api/tournaments/50 200 in 55ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 49ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 104ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 60ms
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 43ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 132ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 60ms
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 102ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 59ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 124ms
 GET /api/tournaments/50 200 in 77ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 81ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 74ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 77ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 63ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 63ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 72ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 69ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 62ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 79ms
 GET /api/admin/notifications?tournament_id=50 200 in 86ms
 GET /api/tournaments/50 200 in 44ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 84ms
 GET /api/auth/session 200 in 41ms
 GET /api/auth/session 200 in 19ms
 GET /api/tournaments/50 200 in 41ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 146ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 173ms
 GET /api/admin/notifications?tournament_id=50 200 in 198ms
 GET /api/tournaments/50/match-news 200 in 70ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 85ms
 GET /api/auth/session 200 in 96ms
 GET /api/tournaments/50 200 in 92ms
 GET /api/auth/session 200 in 56ms
 GET /api/tournaments/50 200 in 60ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 70ms
 GET /api/tournaments/50 200 in 35ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 147ms
 GET /api/tournaments/50 200 in 53ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 42ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 101ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 54ms
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 45ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 108ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 63ms
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 106ms
 GET /api/tournaments/50 200 in 76ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 71ms
 GET /api/tournaments/50 200 in 38ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 163ms
 GET /api/tournaments/50 200 in 51ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 40ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 117ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 64ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 90ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 94ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 79ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 74ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 92ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 78ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 83ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 110ms
 GET /api/admin/notifications?tournament_id=50 200 in 124ms
 GET /api/tournaments/50 200 in 50ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 96ms
 GET /referee/match/1388?token=admin 200 in 67ms
 GET /api/tournaments/50/live-updates 200 in 97080ms
 POST /api/matches/1388/qr 200 in 111ms
 POST /api/matches/1388/qr 200 in 116ms
 GET /api/matches/1388/extended-info 200 in 68ms
 GET /api/matches/1388/extended-info 200 in 62ms
 GET /api/matches/1388/status 200 in 91ms
Match status update request: {
  matchId: 1388,
  action: 'start',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: undefined,
  team2_scores: undefined,
  winner_team_id: undefined,
  remarks: undefined
}
 PUT /api/matches/1388/status 200 in 111ms
Match status update request: {
  matchId: 1388,
  action: 'update_scores',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: [ 1, 2 ],
  team2_scores: [ 1, 2 ],
  winner_team_id: null,
  remarks: null
}
Updating scores (period-by-period): {
  team1_scores: [ 1, 2 ],
  team2_scores: [ 1, 2 ],
  team1ScoresStr: '1,2',
  team2ScoresStr: '1,2',
  winner_team_id: null,
  remarks: null,
  matchId: 1388
}
 PUT /api/matches/1388/status 200 in 103ms
 GET /admin/tournaments/50/matches 200 in 62ms
 GET /api/tournaments/50 200 in 88ms
 GET /api/tournaments/50 200 in 128ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 181ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 192ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 236ms
 GET /api/admin/notifications?tournament_id=50 200 in 216ms
 GET /api/tournaments/50 200 in 42ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50/match-news 200 in 102ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 178ms
 GET /api/tournaments/50 200 in 44ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 145ms
 GET /api/tournaments/50 200 in 43ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 135ms
 GET /api/tournaments/50 200 in 48ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 125ms
 GET /api/tournaments/50 200 in 46ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 141ms
 GET /api/tournaments/50 200 in 46ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 126ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 86ms
 GET /api/tournaments/50 200 in 44ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50/match-news 200 in 113ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 169ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 126ms
 GET /api/tournaments/50 200 in 46ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 128ms
 GET /referee/match/1388?token=admin 200 in 89ms
 GET /api/tournaments/50/live-updates 200 in 45062ms
 POST /api/matches/1388/qr 200 in 89ms
 POST /api/matches/1388/qr 200 in 82ms
 GET /api/matches/1388/extended-info 200 in 72ms
 GET /api/matches/1388/extended-info 200 in 78ms
 GET /api/matches/1388/status 200 in 106ms
 GET /api/tournaments/50/match-news 200 in 123ms
Match status update request: {
  matchId: 1388,
  action: 'update_scores',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: [ 1, 2, null, null, 6 ],
  team2_scores: [ 1, 2, null, null, 5 ],
  winner_team_id: 'ultraspa',
  remarks: null
}
Updating scores (period-by-period): {
  team1_scores: [ 1, 2, null, null, 6 ],
  team2_scores: [ 1, 2, null, null, 5 ],
  team1ScoresStr: '1,2,0,0,6',
  team2ScoresStr: '1,2,0,0,5',
  winner_team_id: 'ultraspa',
  remarks: null,
  matchId: 1388
}
 PUT /api/matches/1388/status 200 in 81ms
Match status update request: {
  matchId: 1388,
  action: 'end',
  updated_by: 'referee',
  current_period: undefined,
  team1_scores: undefined,
  team2_scores: undefined,
  winner_team_id: undefined,
  remarks: undefined
}
 PUT /api/matches/1388/status 200 in 114ms
 GET /admin/tournaments/50/matches 200 in 74ms
 GET /api/tournaments/50 200 in 111ms
 GET /api/tournaments/50 200 in 121ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 165ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 164ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 207ms
 GET /api/admin/notifications?tournament_id=50 200 in 247ms
 GET /api/tournaments/50 200 in 45ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 141ms
 GET /api/tournaments/50 200 in 71ms
[MATCH_CONFIRM] Match 1388 confirmed by admin
[MATCH_CONFIRM] Original live scores: {
  team1_scores: '1,2,0,0,6',
  team2_scores: '1,2,0,0,5',
  team1_type: 'string',
  team2_type: 'string'
}
[MATCH_CONFIRM] Calculated totals: 9-8
[MATCH_CONFIRM] Match details: M7 - ultraspa vs grimtige (9-8)
[MATCH_CONFIRM] Processing tournament progression for match M7
[TOURNAMENT_PROGRESSION] Processing match M7 (ID: 1388)
[TOURNAMENT_PROGRESSION] Winner: ultraspa, Loser: grimtige
[TOURNAMENT_PROGRESSION] Processing match M7, winner: ultraspa, loser: grimtige
[TOURNAMENT_PROGRESSION] Searching for matches that reference M7_winner or M7_loser
[TOURNAMENT_PROGRESSION] Found 0 dependent matches
[TOURNAMENT_PROGRESSION] No progression rules found for match M7
[MATCH_CONFIRM] ✅ Tournament progression processed for match M7
[MATCH_CONFIRM] Starting standings update for block 230, tournament 50
[STANDINGS] 順位表更新開始: Block 230, Tournament 50
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
[STANDINGS] 競技種別: soccer
Checking team assignment status...
[STANDINGS] 確定済み試合数: 7件
[STANDINGS] サッカー競技: calculateMultiSportBlockStandingsを使用
[MULTI_SPORT_STANDINGS] 多競技対応順位計算開始: Block 230, Tournament 50
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
[MULTI_SPORT_STANDINGS] 競技種別: soccer {
  sport_code: 'soccer',
  score_label: '得点',
  score_against_label: '失点',
  difference_label: '得失点差',
  supports_pk: true,
  pk_display_format: 'PK {pk_score1}-{pk_score2}'
}
[MULTI_SPORT_STANDINGS] 勝点システム: 勝利=3, 引分=1, 敗北=0
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 129ms
[MULTI_SPORT_STANDINGS] 確定済み試合数: 7
[MULTI_SPORT_STANDINGS] 参加チーム数: 0
[TIE_BREAKING] カスタム順位決定ルール適用開始: 5個のルール
[TIE_BREAKING] カスタム順位決定完了: 適用=false, 手動設定必要=false
[MULTI_SPORT_STANDINGS] 多競技対応順位計算完了: 0チーム
[STANDINGS] 計算完了: 0チームの順位を計算
[STANDINGS] DB更新完了: 1行が更新されました
[STANDINGS] ブロック 230 の順位表を更新しました
[STANDINGS] 更新確認: データが正常に保存されています (更新時刻: 2025-09-21 12:01:42)
[PROMOTION] ブロック完了チェック開始: Block 230
[PROMOTION] ブロック 230: 7/8 試合完了 (確定:7, 中止:0)
[PROMOTION] ブロック 230 試合詳細:
[PROMOTION]   M1: ウルトラスパークス vs フレッシュリミックス [確定]
[PROMOTION]   M2: シャドウフェニックス vs トリックブレイカーズ [確定]
[PROMOTION]   M3: ノーザンブレイヴス vs ブラストウィングス [確定]
[PROMOTION]   M4: シャイニングエッジFC vs グリムタイガーズ [確定]
[PROMOTION]   M5: ウルスパ vs シャドフェ [確定]
[PROMOTION]   M6: ブラウィン vs グリタイ [確定]
[PROMOTION]   M7: ウルスパ vs グリタイ [確定]
[PROMOTION]   M8: シャドフェ vs ブラウィン [未完了]
[PROMOTION] ブロック 230 完了判定: ❌ 未完了
[PROMOTION] finalブロック: まだ未完了の試合があります
[MATCH_CONFIRM] ✅ Block 230 standings updated successfully after match 1388 confirmation
[MATCH_CONFIRM] Checking if tournament 50 is complete...
[MATCH_CONFIRM] Tournament 50: 31/32 matches confirmed
 POST /api/matches/1388/confirm 200 in 469ms
 GET /api/tournaments/50 200 in 62ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 124ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 106ms
 GET /api/auth/session 200 in 61ms
 GET /api/auth/session 200 in 29ms
 GET /api/tournaments/50 200 in 53ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 122ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 138ms
 GET /api/admin/notifications?tournament_id=50 200 in 137ms
 GET /public/tournaments/50 200 in 593ms
 GET /api/auth/session 200 in 56ms
 GET /api/auth/session 200 in 31ms
 GET /api/tournaments/50 200 in 52ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 104ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 100ms
 GET /api/admin/notifications?tournament_id=50 200 in 108ms
 GET /api/tournaments/50 200 in 42ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 131ms
API called with params: Promise {
  <pending>,
  id: '50',
  [Symbol(async_id_symbol)]: 1871756,
  [Symbol(trigger_async_id_symbol)]: 1871748,
  [Symbol(kResourceStore)]: { isAppRoute: true, isAction: false },
  [Symbol(kResourceStore)]: {
    type: 'request',
    phase: 'action',
    implicitTags: { tags: [Array], expirationsByCacheKind: [Map] },
    url: { pathname: '/api/tournaments/50/public-matches', search: '' },
    rootParams: {},
    headers: [Getter],
    cookies: [Getter/Setter],
    mutableCookies: [Getter],
    userspaceMutableCookies: [Getter],
    draftMode: [Getter],
    renderResumeDataCache: null,
    isHmrRefresh: false,
    serverComponentsHmrCache: undefined
  },
  [Symbol(kResourceStore)]: {
    isStaticGeneration: false,
    page: '/api/tournaments/[id]/public-matches/route',
    fallbackRouteParams: null,
    route: '/api/tournaments/[id]/public-matches',
    incrementalCache: IncrementalCache {
      locks: Map(0) {},
      hasCustomCacheHandler: false,
      dev: true,
      disableForTestmode: false,
      minimalMode: false,
      requestHeaders: [Object],
      requestProtocol: 'http',
      allowedRevalidateHeaderKeys: undefined,
      prerenderManifest: [Object],
      cacheControls: [SharedCacheControls],
      fetchCacheKeyPrefix: '',
      cacheHandler: [FileSystemCache]
    },
    cacheLifeProfiles: {
      default: [Object],
      seconds: [Object],
      minutes: [Object],
      hours: [Object],
      days: [Object],
      weeks: [Object],
      max: [Object]
    },
    isRevalidate: false,
    isPrerendering: undefined,
    fetchCache: undefined,
    isOnDemandRevalidate: undefined,
    isDraftMode: undefined,
    requestEndedState: undefined,
    isPrefetchRequest: undefined,
    buildId: 'development',
    reactLoadableManifest: {},
    assetPrefix: '',
    afterContext: AfterContext {
      workUnitStores: Set(0) {},
      waitUntil: [Function (anonymous)],
      onClose: [Function: bound onClose],
      onTaskError: undefined,
      callbackQueue: [EventEmitter]
    },
    dynamicIOEnabled: false,
    dev: false,
    previouslyRevalidatedTags: [],
    refreshTagsByCacheKind: Map(2) { 'default' => [Object], 'remote' => [Object] },
    forceDynamic: true
  },
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined
}
Params type: object
Resolved params: { id: '50' }
Tournament ID string: 50
Parsed tournament ID: 50
Checking tournament existence for ID: 50
All tournaments query result: [
  {
    tournament_id: 50,
    tournament_name: 'デモ用大会5 (決勝トーナメント)',
    visibility: 'open',
    status: 'ongoing'
  }
]
Tournament visibility value: open type: string
API called with params: Promise {
  <pending>,
  id: '50',
  [Symbol(async_id_symbol)]: 1873719,
  [Symbol(trigger_async_id_symbol)]: 1873711,
  [Symbol(kResourceStore)]: { isAppRoute: true, isAction: false },
  [Symbol(kResourceStore)]: {
    type: 'request',
    phase: 'action',
    implicitTags: { tags: [Array], expirationsByCacheKind: [Map] },
    url: { pathname: '/api/tournaments/50/public-matches', search: '' },
    rootParams: {},
    headers: [Getter],
    cookies: [Getter/Setter],
    mutableCookies: [Getter],
    userspaceMutableCookies: [Getter],
    draftMode: [Getter],
    renderResumeDataCache: null,
    isHmrRefresh: false,
    serverComponentsHmrCache: undefined
  },
  [Symbol(kResourceStore)]: {
    isStaticGeneration: false,
    page: '/api/tournaments/[id]/public-matches/route',
    fallbackRouteParams: null,
    route: '/api/tournaments/[id]/public-matches',
    incrementalCache: IncrementalCache {
      locks: Map(0) {},
      hasCustomCacheHandler: false,
      dev: true,
      disableForTestmode: false,
      minimalMode: false,
      requestHeaders: [Object],
      requestProtocol: 'http',
      allowedRevalidateHeaderKeys: undefined,
      prerenderManifest: [Object],
      cacheControls: [SharedCacheControls],
      fetchCacheKeyPrefix: '',
      cacheHandler: [FileSystemCache]
    },
    cacheLifeProfiles: {
      default: [Object],
      seconds: [Object],
      minutes: [Object],
      hours: [Object],
      days: [Object],
      weeks: [Object],
      max: [Object]
    },
    isRevalidate: false,
    isPrerendering: undefined,
    fetchCache: undefined,
    isOnDemandRevalidate: undefined,
    isDraftMode: undefined,
    requestEndedState: undefined,
    isPrefetchRequest: undefined,
    buildId: 'development',
    reactLoadableManifest: {},
    assetPrefix: '',
    afterContext: AfterContext {
      workUnitStores: Set(0) {},
      waitUntil: [Function (anonymous)],
      onClose: [Function: bound onClose],
      onTaskError: undefined,
      callbackQueue: [EventEmitter]
    },
    dynamicIOEnabled: false,
    dev: false,
    previouslyRevalidatedTags: [],
    refreshTagsByCacheKind: Map(2) { 'default' => [Object], 'remote' => [Object] },
    forceDynamic: true
  },
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined,
  [Symbol(kResourceStore)]: undefined
}
Params type: object
Resolved params: { id: '50' }
Tournament ID string: 50
Parsed tournament ID: 50
Checking tournament existence for ID: 50
Tournament result for matches: [ { tournament_id: 50, visibility: 'open', status: 'ongoing' } ]
Fetching matches for tournament: 50
Trying simple query first...
All tournaments query result: [
  {
    tournament_id: 50,
    tournament_name: 'デモ用大会5 (決勝トーナメント)',
    visibility: 'open',
    status: 'ongoing'
  }
]
Tournament visibility value: open type: string
Tournament result for matches: [ { tournament_id: 50, visibility: 'open', status: 'ongoing' } ]
Fetching matches for tournament: 50
Trying simple query first...
Simple query executed successfully, rows found: 5
Sample data: {
  match_id: 1358,
  match_code: 'A1',
  team1_display_name: 'A1チーム',
  team2_display_name: 'A2チーム'
}
Checking team assignment status...
Team assignment status: 32/32 matches assigned
Is assignment complete: true
Executing full query...
Checking t_matches_final table structure...
Simple query executed successfully, rows found: 5
Sample data: {
  match_id: 1358,
  match_code: 'A1',
  team1_display_name: 'A1チーム',
  team2_display_name: 'A2チーム'
}
Checking team assignment status...
t_matches_final table columns: [
  {
    cid: 0,
    name: 'match_id',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 1
  },
  {
    cid: 1,
    name: 'match_block_id',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 2,
    name: 'tournament_date',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 3,
    name: 'match_number',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 4,
    name: 'match_code',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 5,
    name: 'team1_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 6,
    name: 'team2_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 7,
    name: 'team1_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 8,
    name: 'team2_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 9,
    name: 'court_number',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 10,
    name: 'start_time',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 11,
    name: 'team1_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 12,
    name: 'team2_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 13,
    name: 'period_count',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '1',
    pk: 0
  },
  {
    cid: 14,
    name: 'winner_team_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 15,
    name: 'is_draw',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 16,
    name: 'is_walkover',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 17,
    name: 'match_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'completed'",
    pk: 0
  },
  {
    cid: 18,
    name: 'result_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'confirmed'",
    pk: 0
  },
  {
    cid: 19,
    name: 'remarks',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 20,
    name: 'created_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 21,
    name: 'updated_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 22,
    name: 'cancellation_type',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  }
]
Available columns in t_matches_final: [
  'match_id',           'match_block_id',
  'tournament_date',    'match_number',
  'match_code',         'team1_id',
  'team2_id',           'team1_display_name',
  'team2_display_name', 'court_number',
  'start_time',         'team1_scores',
  'team2_scores',       'period_count',
  'winner_team_id',     'is_draw',
  'is_walkover',        'match_status',
  'result_status',      'remarks',
  'created_at',         'updated_at',
  'cancellation_type'
]
All required columns exist, using JOIN query
Team assignment status: 32/32 matches assigned
Is assignment complete: true
Executing full query...
Checking t_matches_final table structure...
t_matches_final table columns: [
  {
    cid: 0,
    name: 'match_id',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 1
  },
  {
    cid: 1,
    name: 'match_block_id',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 2,
    name: 'tournament_date',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 3,
    name: 'match_number',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 4,
    name: 'match_code',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 5,
    name: 'team1_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 6,
    name: 'team2_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 7,
    name: 'team1_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 8,
    name: 'team2_display_name',
    type: 'TEXT',
    notnull: 1,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 9,
    name: 'court_number',
    type: 'INTEGER',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 10,
    name: 'start_time',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 11,
    name: 'team1_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 12,
    name: 'team2_scores',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 13,
    name: 'period_count',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '1',
    pk: 0
  },
  {
    cid: 14,
    name: 'winner_team_id',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 15,
    name: 'is_draw',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 16,
    name: 'is_walkover',
    type: 'INTEGER',
    notnull: 1,
    dflt_value: '0',
    pk: 0
  },
  {
    cid: 17,
    name: 'match_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'completed'",
    pk: 0
  },
  {
    cid: 18,
    name: 'result_status',
    type: 'TEXT',
    notnull: 1,
    dflt_value: "'confirmed'",
    pk: 0
  },
  {
    cid: 19,
    name: 'remarks',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  },
  {
    cid: 20,
    name: 'created_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 21,
    name: 'updated_at',
    type: 'DATETIME',
    notnull: 0,
    dflt_value: "datetime('now', '+9 hours')",
    pk: 0
  },
  {
    cid: 22,
    name: 'cancellation_type',
    type: 'TEXT',
    notnull: 0,
    dflt_value: null,
    pk: 0
  }
]
Available columns in t_matches_final: [
  'match_id',           'match_block_id',
  'tournament_date',    'match_number',
  'match_code',         'team1_id',
  'team2_id',           'team1_display_name',
  'team2_display_name', 'court_number',
  'start_time',         'team1_scores',
  'team2_scores',       'period_count',
  'winner_team_id',     'is_draw',
  'is_walkover',        'match_status',
  'result_status',      'remarks',
  'created_at',         'updated_at',
  'cancellation_type'
]
All required columns exist, using JOIN query
Full query executed successfully, rows found: 32
Processing match data, total rows: 32
Successfully processed matches: 32
 GET /api/tournaments/50/public-matches 200 in 164ms
Full query executed successfully, rows found: 32
Processing match data, total rows: 32
Successfully processed matches: 32
 GET /api/tournaments/50/public-matches 200 in 194ms
 GET /api/tournaments/50/match-news 200 in 101ms
 GET /api/tournaments/50/match-news 200 in 110ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 90ms
 GET /api/tournaments/50 200 in 46ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 135ms
 GET /api/tournaments/50 200 in 47ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 133ms
 GET /api/tournaments/50 200 in 40ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 115ms
 GET /api/tournaments/50 200 in 52ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 121ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 89ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 95ms
 GET /api/tournaments/50 200 in 41ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 121ms
 GET /api/tournaments/50 200 in 42ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 121ms
 GET /api/tournaments/50 200 in 55ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 129ms
 GET /api/tournaments/50 200 in 65ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 173ms
 GET /api/tournaments/50 200 in 68ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 164ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 83ms
 GET /api/auth/session 200 in 56ms
 GET /api/auth/session 200 in 35ms
 GET /api/tournaments/50 200 in 119ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 212ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 186ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 1165ms
 GET /api/tournaments/50 200 in 51ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 113ms
 GET /api/tournaments/50 200 in 70ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 153ms
 GET /api/tournaments/50 200 in 43ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 112ms
 GET /api/tournaments/50 200 in 50ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 144ms
 GET /api/tournaments/50 200 in 74ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 93ms
 GET /api/tournaments/50 200 in 77ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 119ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 104ms
 GET /api/tournaments/50 200 in 2916ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 148ms
 GET /api/auth/session 200 in 43ms
 GET /api/auth/session 200 in 47ms
 GET /api/tournaments/50 200 in 65ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 125ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 137ms
 GET /api/admin/notifications?tournament_id=50 200 in 164ms
 GET /api/tournaments/50 200 in 38ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 403ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 125ms
 GET /api/tournaments/50 200 in 46ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 122ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 128ms
 GET /api/tournaments/50 200 in 49ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 3019ms
 GET /api/tournaments/50 200 in 106ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 148ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 708ms
 ✓ Compiled in 2.6s (1941 modules)
Using environment variables for database connection
Database client initializing: {
  url: 'libsql://ksm-dev-asditd.aws-ap...',
  hasToken: true,
  source: 'env',
  NODE_ENV: 'development'
}
 GET /admin/tournaments/50/matches 200 in 286ms
 GET /public/tournaments/50 200 in 348ms
 GET /api/tournaments/50 200 in 151ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 118ms
 GET /api/tournaments/50 200 in 47ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 119ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 113ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 111ms
 GET /api/tournaments/50 200 in 51ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 125ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 105ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 106ms
 GET /api/tournaments/50 200 in 56ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 126ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 119ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 93ms
 GET /api/admin/notifications?tournament_id=50 200 in 125ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 89ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 105ms
 GET /api/admin/notifications?tournament_id=50 200 in 137ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 122ms
 GET /api/tournaments/50 200 in 104ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 153ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 101ms
 GET /api/tournaments/50 200 in 101ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 151ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 111ms
 GET /api/tournaments/50 200 in 101ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 149ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 104ms
 GET /api/tournaments/50 200 in 95ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 135ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 96ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 91ms
 GET /api/admin/notifications?tournament_id=50 200 in 133ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 104ms
 GET /api/tournaments/50 200 in 83ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 127ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 96ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 92ms
 GET /api/admin/notifications?tournament_id=50 200 in 136ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 117ms
 GET /api/tournaments/50 200 in 88ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 133ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 92ms
 GET /api/tournaments/50 200 in 92ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 135ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 95ms
 GET /api/tournaments/50 200 in 87ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 133ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 101ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 93ms
 GET /api/admin/notifications?tournament_id=50 200 in 128ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 91ms
 GET /api/tournaments/50 200 in 89ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 131ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 91ms
 GET /api/tournaments/50 200 in 81ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 119ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 88ms
 GET /api/tournaments/50 200 in 90ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 133ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 91ms
 GET /api/tournaments/50 200 in 94ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 138ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 110ms
 GET /api/tournaments/50 200 in 86ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 133ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 95ms
 GET /api/tournaments/50 200 in 84ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 126ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 117ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/tournaments/50 200 in 97ms
 GET /api/admin/notifications?tournament_id=50 200 in 134ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 102ms
 GET /api/auth/session 200 in 78ms
 GET /api/tournaments/50 200 in 115ms
 GET /api/auth/session 200 in 51ms
 GET /api/tournaments/50 200 in 82ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 59ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 165ms
 GET /api/tournaments/50 200 in 57ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 70ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 191ms
 GET /api/tournaments/50 200 in 96ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 101ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 136ms
 GET /api/tournaments/50 200 in 70ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 67ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 133ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 72ms
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 141ms
 GET /api/tournaments/50 200 in 58ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 261ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/auth/session 200 in 219ms
 GET /api/auth/session 200 in 29ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 680ms
 GET /api/tournaments/50 200 in 419ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 63ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 129ms
 GET /api/tournaments/50 200 in 91ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 37ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 114ms
 GET /api/tournaments/50 200 in 70ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 100ms
 GET /api/tournaments/50 200 in 59ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 60ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 98ms
 GET /api/tournaments/50 200 in 43ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 36ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 76ms
 GET /api/tournaments/50 200 in 52ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 38ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 83ms
 GET /api/tournaments/50 200 in 79ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 119ms
 GET /api/tournaments/50 200 in 59ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 75ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 110ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 62ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 67ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 74ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 68ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 62ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 69ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 76ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 85ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 80ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 187ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 185ms
 GET /api/admin/notifications?tournament_id=50 200 in 206ms
 GET /api/auth/session 200 in 51ms
 GET /api/tournaments/50 200 in 82ms
 GET /api/tournaments/50 200 in 41ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 46ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 115ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
 GET /api/tournaments/50 200 in 61ms
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 54ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 110ms
 GET /api/tournaments/50 200 in 61ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 58ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 133ms
 GET /api/tournaments/50 200 in 62ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 40ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 102ms
 GET /api/tournaments/50 200 in 57ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 41ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 91ms
 GET /api/tournaments/50 200 in 61ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 78ms
 GET /api/tournaments/50 200 in 50ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 86ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 121ms
 GET /api/tournaments/50 200 in 58ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 94ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 144ms
 GET /api/tournaments/50 200 in 87ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 1048ms
 GET /api/tournaments/50 200 in 987ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 64ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 94ms
 GET /api/tournaments/50 200 in 66ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
 GET /api/tournaments/50 200 in 47ms
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 123ms
 GET /api/tournaments/50 200 in 71ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 125ms
 GET /api/tournaments/50 200 in 80ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
 GET /api/tournaments/50 200 in 75ms
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 103ms
 GET /api/tournaments/50 200 in 65ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 84ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 72ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 83ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 78ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 82ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 88ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 76ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 62ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 61ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 79ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 74ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 63ms
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
[NOTIFICATIONS] 大会50: 進出決定により手動順位設定通知を自動解決
 GET /api/admin/notifications?tournament_id=50 200 in 85ms
 GET /api/admin/notifications?tournament_id=50 200 in 89ms
 GET /api/tournaments/50 200 in 39ms
API /tournaments/[id]/matches - Session check: { hasSession: true, userRole: 'admin', userId: 'admin' }
Checking team assignment status...
[ADMIN] Team assignment status: 32/32 matches assigned
[ADMIN] Is assignment complete: true
Fetching matches for tournament 50...
Found 32 matches for tournament 50
 GET /api/tournaments/50/matches 200 in 75ms
 GET /api/tournaments/50/live-updates 200 in 1535008ms
 ✓ Compiled in 1624ms (1849 modules)
 ✓ Compiled in 2.9s (1849 modules)
 ✓ Compiled in 1738ms (1849 modules)
 ✓ Compiled in 1012ms (1849 modules)
 ✓ Compiled in 1083ms (1849 modules)
 ⨯ ./app/admin/tournaments/[id]/matches/page.tsx
Error:   [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/home/exs/project/ksm-app/app/admin/tournaments/[id]/matches/page.tsx[0m:237:1]
 [2m234[0m |         setLoading(false);
 [2m235[0m |       }
 [2m236[0m |     }
 [2m237[0m |   };
     : [35;1m   ^[0m
 [2m238[0m | 
 [2m239[0m |   // 大会情報と試合一覧取得
 [2m239[0m |   useEffect(() => {
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/admin/tournaments/[id]/matches/page.tsx
 ✓ Compiled in 1379ms (1849 modules)
 ✓ Compiled in 3.1s (1849 modules)
 ✓ Compiled in 544ms (771 modules)
 ✓ Compiled in 325ms (771 modules)
 ✓ Compiled in 317ms (771 modules)
 ✓ Compiled in 1321ms (771 modules)
 ✓ Compiled in 357ms (771 modules)
 ✓ Compiled in 281ms (771 modules)
 ✓ Compiled in 288ms (771 modules)
 ✓ Compiled in 279ms (771 modules)
 ✓ Compiled in 256ms (771 modules)
 ✓ Compiled in 525ms (771 modules)
 ✓ Compiled in 299ms (771 modules)
 ✓ Compiled in 265ms (771 modules)
 ✓ Compiled in 243ms (771 modules)
 ✓ Compiled in 1625ms (1849 modules)
 ✓ Compiled in 854ms (1849 modules)
 ✓ Compiled in 2.1s (1860 modules)
 ✓ Compiled in 1328ms (1861 modules)
 ✓ Compiled in 1221ms (1861 modules)
 ✓ Compiled in 1022ms (776 modules)
 ✓ Compiled in 365ms (776 modules)
 ○ Compiling / ...
 ✓ Compiled / in 9.1s (1094 modules)
 ⨯ Error: ENOENT: no such file or directory, open '/home/exs/project/ksm-app/.next/server/vendor-chunks/next.js'
    at __webpack_require__.f.require (.next/server/webpack-runtime.js:272:28)
    at <unknown> (.next/server/webpack-runtime.js:180:40)
    at Array.reduce (<anonymous>)
    at __webpack_require__.e (.next/server/webpack-runtime.js:179:67)
    at Array.map (<anonymous>)
    at __webpack_require__.X (.next/server/webpack-runtime.js:231:22)
    at <unknown> (.next/server/app/page.js:478:47)
    at Object.<anonymous> (.next/server/app/page.js:481:3) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/exs/project/ksm-app/.next/server/vendor-chunks/next.js',
  page: '/'
}
 ○ Compiling /_error ...
 ✓ Compiled /_error in 6.7s (2190 modules)
 GET / 500 in 16722ms
 ⨯ Error: ENOENT: no such file or directory, open '/home/exs/project/ksm-app/.next/server/vendor-chunks/@radix-ui.js'
    at __webpack_require__.f.require (.next/server/webpack-runtime.js:272:28)
    at <unknown> (.next/server/webpack-runtime.js:180:40)
    at Array.reduce (<anonymous>)
    at __webpack_require__.e (.next/server/webpack-runtime.js:179:67)
    at Array.map (<anonymous>)
    at __webpack_require__.X (.next/server/webpack-runtime.js:231:22)
    at <unknown> (.next/server/app/page.js:478:47)
    at Object.<anonymous> (.next/server/app/page.js:481:3) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/exs/project/ksm-app/.next/server/vendor-chunks/@radix-ui.js',
  page: '/'
}
 GET / 500 in 358ms
